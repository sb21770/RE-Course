<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 5: Debugging ××ª×§×“×</title>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700;900&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0e17;
            --bg-secondary: #131a2b;
            --bg-card: #1a2235;
            --accent-primary: #00ff88;
            --accent-secondary: #00b4d8;
            --accent-warning: #ff6b35;
            --text-primary: #e8e8e8;
            --text-secondary: #a0a0a0;
            --border-color: #2a3548;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Heebo', sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.9; }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        nav { background: var(--bg-secondary); padding: 1rem 2rem; border-bottom: 1px solid var(--border-color); position: sticky; top: 0; z-index: 100; }
        nav a { color: var(--accent-primary); text-decoration: none; }
        .chapter-header { background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%); padding: 4rem 2rem; text-align: center; }
        .chapter-number { display: inline-block; background: rgba(0,0,0,0.3); color: white; padding: 0.5rem 1.5rem; border-radius: 30px; font-weight: 700; margin-bottom: 1rem; }
        h1 { font-size: 2.5rem; margin-bottom: 1rem; color: white; }
        .subtitle { color: rgba(255,255,255,0.9); font-size: 1.1rem; }
        .content { padding: 3rem 0; }
        h2 { font-size: 1.8rem; color: var(--accent-warning); margin: 3rem 0 1.5rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--border-color); }
        h3 { font-size: 1.3rem; color: var(--accent-secondary); margin: 2rem 0 1rem; }
        p { margin-bottom: 1.5rem; }
        .task-box { background: rgba(255, 107, 53, 0.1); border: 1px solid var(--accent-warning); border-radius: 10px; padding: 1.5rem; margin: 1.5rem 0; }
        .task-title { color: var(--accent-warning); font-weight: 700; margin-bottom: 0.5rem; font-size: 1.1rem; }
        .info-box { background: rgba(0, 180, 216, 0.1); border: 1px solid var(--accent-secondary); border-radius: 10px; padding: 1.5rem; margin: 1.5rem 0; }
        .info-box-title { color: var(--accent-secondary); font-weight: 700; margin-bottom: 0.5rem; }
        ul, ol { margin: 1rem 0 1.5rem 1.5rem; }
        li { margin-bottom: 0.8rem; }
        code { font-family: 'Fira Code', monospace; background: var(--bg-card); padding: 0.2rem 0.5rem; border-radius: 4px; color: var(--accent-primary); font-size: 0.9rem; }
        pre { font-family: 'Fira Code', monospace; background: var(--bg-card); padding: 1.5rem; border-radius: 10px; overflow-x: auto; margin: 1.5rem 0; border: 1px solid var(--border-color); direction: ltr; text-align: left; line-height: 1.6; }
        .nav-buttons { display: flex; justify-content: space-between; margin-top: 4rem; padding-top: 2rem; border-top: 1px solid var(--border-color); }
        .nav-btn { background: var(--bg-card); color: var(--text-primary); padding: 1rem 2rem; border-radius: 10px; text-decoration: none; border: 1px solid var(--border-color); transition: all 0.3s; }
        .nav-btn:hover { border-color: var(--accent-warning); transform: translateY(-3px); }
        .checklist { list-style: none; margin-right: 0; }
        .checklist li { padding: 0.5rem 0; padding-right: 2rem; position: relative; }
        .checklist li::before { content: 'â˜'; position: absolute; right: 0; color: var(--accent-warning); }
        .success-box { background: rgba(0, 255, 136, 0.1); border: 2px solid var(--accent-primary); border-radius: 10px; padding: 2rem; margin: 2rem 0; text-align: center; }
    </style>
</head>
<body>
    <nav>
        <a href="index.html">â†’ ×—×–×¨×” ×œ×ª×¤×¨×™×˜ ×”×¨××©×™</a>
    </nav>

    <header class="chapter-header">
        <div class="chapter-number">ğŸ”§ Lab 5</div>
        <h1>Debugging ××ª×§×“×</h1>
        <p class="subtitle">××¢×§×‘ ××—×¨ ×‘×™×¦×•×¢, ×©×™× ×•×™ ×–×™×›×¨×•×Ÿ, ×•-Patching</p>
    </header>

    <div class="container">
        <div class="content">
            
            <h2>ğŸ¯ ××˜×¨×•×ª ×”×ª×¨×’×•×œ</h2>
            <ul>
                <li>×©×™××•×© ××ª×§×“× ×‘-breakpoints</li>
                <li>×©×™× ×•×™ ×¢×¨×›×™× ×‘×–××Ÿ ×¨×™×¦×”</li>
                <li>Patching - ×©×™× ×•×™ ×§×•×“ ×§×‘×•×¢</li>
                <li>×¢×§×™×¤×ª ×‘×“×™×§×•×ª ××‘×˜×—×”</li>
            </ul>

            <h2>ğŸ”´ ×—×œ×§ 1: ×¡×•×’×™ Breakpoints</h2>

            <div class="task-box">
                <div class="task-title">××©×™××” 1.1 - Software Breakpoint</div>
                <ol>
                    <li>×¤×ª×— ×ª×•×›× ×™×ª ×‘-x64dbg</li>
                    <li>××¦× ××ª Entry Point (Ctrl+E)</li>
                    <li>×©×™× BP ×¢×œ ×”×©×•×¨×” ×”×¨××©×•× ×” (F2)</li>
                    <li>×”×¨×¥ (F9) - ×”×ª×•×›× ×™×ª ×ª×¢×¦×•×¨ ×‘-BP</li>
                    <li>×‘×“×•×§ ×©×”-byte ×”×¨××©×•×Ÿ ×©×œ ×”×¤×§×•×“×” ×”×•×—×œ×£ ×œ-<code>0xCC</code> (INT 3)</li>
                </ol>
            </div>

            <div class="task-box">
                <div class="task-title">××©×™××” 1.2 - Hardware Breakpoint</div>
                <p>Hardware BP ×œ× ××©× ×” ××ª ×”×§×•×“ - ×™×•×ª×¨ "×©×§×˜":</p>
                <ol>
                    <li>×™×× ×™ ×¢×œ ×¤×§×•×“×” â†’ Breakpoint â†’ Hardware â†’ Execute</li>
                    <li>×”×¨×¥ ×•×‘×“×•×§ ×©×¢×•×¦×¨</li>
                    <li>×™×ª×¨×•×Ÿ: ×ª×•×›× ×•×ª anti-debug ×¤×—×•×ª ××–×”×•×ª ××ª ×–×”</li>
                </ol>
            </div>

            <div class="task-box">
                <div class="task-title">××©×™××” 1.3 - Memory Breakpoint</div>
                <p>×¢×¦×™×¨×” ×¢×œ ×’×™×©×” ×œ×–×™×›×¨×•×Ÿ:</p>
                <ol>
                    <li>×‘×—×œ×•×Ÿ Dump, ××¦× ×›×ª×•×‘×ª ××¢× ×™×™× ×ª</li>
                    <li>×™×× ×™ â†’ Breakpoint â†’ Memory, Access</li>
                    <li>×”×¨×¥ - ×™×¢×¦×•×¨ ×›×©××™×©×”×• ×§×•×¨×/×›×•×ª×‘ ×œ×›×ª×•×‘×ª ×”×–×•</li>
                </ol>
            </div>

            <div class="task-box">
                <div class="task-title">××©×™××” 1.4 - Conditional Breakpoint</div>
                <p>×¢×¦×™×¨×” ×¨×§ ×›×©×ª× ××™ ××ª×§×™×™×:</p>
                <ol>
                    <li>×©×™× BP ×¨×’×™×œ (F2)</li>
                    <li>×™×× ×™ ×¢×œ ×”-BP â†’ Edit</li>
                    <li>×”×•×¡×£ ×ª× ××™: <code>eax == 5</code></li>
                    <li>×”×¨×¥ - ×™×¢×¦×•×¨ ×¨×§ ×›×©-EAX ×©×•×•×” 5</li>
                </ol>
            </div>

            <h2>âœï¸ ×—×œ×§ 2: ×©×™× ×•×™ ×¢×¨×›×™× ×‘×–××Ÿ ×¨×™×¦×”</h2>

            <div class="task-box">
                <div class="task-title">××©×™××” 2.1 - ×©×™× ×•×™ ×¨×’×™×¡×˜×¨</div>
                <ol>
                    <li>×¢×¦×•×¨ ×¢×œ ×¤×§×•×“×ª CMP</li>
                    <li>×‘×—×œ×•×Ÿ Registers, ×“××‘×œ ×§×œ×™×§ ×¢×œ EAX</li>
                    <li>×©× ×” ××ª ×”×¢×¨×š</li>
                    <li>×”××©×š (F8) ×•×¨××” ××™×š ×–×” ××©×¤×™×¢ ×¢×œ ×”-jump</li>
                </ol>
            </div>

            <div class="task-box">
                <div class="task-title">××©×™××” 2.2 - ×©×™× ×•×™ ×“×’×œ×™×</div>
                <p>×©×™× ×•×™ ×”-Zero Flag (ZF) ×›×“×™ ×œ×©× ×•×ª ×§×¤×™×¦×”:</p>
                <ol>
                    <li>×¢×¦×•×¨ ××—×¨×™ ×¤×§×•×“×ª CMP ××• TEST</li>
                    <li>×‘×—×œ×•×Ÿ Registers, ××¦× ××ª ZF</li>
                    <li>×“××‘×œ ×§×œ×™×§ ×›×“×™ ×œ×”×¤×•×š (0â†”1)</li>
                    <li>JE/JNE ×¢×›×©×™×• ×™×ª× ×”×’×• ×”×¤×•×š!</li>
                </ol>
            </div>

            <div class="task-box">
                <div class="task-title">××©×™××” 2.3 - ×©×™× ×•×™ ×–×™×›×¨×•×Ÿ</div>
                <ol>
                    <li>×‘×—×œ×•×Ÿ Dump, ××¦× ××ª ×”×›×ª×•×‘×ª ×©×¨×•×¦×™× ×œ×©× ×•×ª</li>
                    <li>×“××‘×œ ×§×œ×™×§ ×¢×œ byte</li>
                    <li>×”×§×œ×“ ×¢×¨×š ×—×“×©</li>
                    <li>××•: ×™×× ×™ â†’ Binary â†’ Edit</li>
                </ol>
            </div>

            <h2>ğŸ”§ ×—×œ×§ 3: Patching</h2>

            <div class="info-box">
                <div class="info-box-title">ğŸ“ ××”×• Patching?</div>
                <p>
                    ×©×™× ×•×™ bytes ×‘×§×•×“ ×›×“×™ ×œ×©× ×•×ª ×”×ª× ×”×’×•×ª ×œ×¦××™×ª×•×ª.<br>
                    × ×¤×•×¥: ×”×¤×™×›×ª JE ×œ-JNE, ××• ×”×—×œ×¤×” ×‘-NOP.
                </p>
            </div>

            <h3>×˜×‘×œ×ª Opcodes ×—×©×•×‘×™×</h3>
            <pre>
Instruction    Opcode     Notes
-----------    ------     -----
NOP            90         No Operation - ×œ× ×¢×•×©×” ×›×œ×•×
JMP short      EB XX      ×§×¤×™×¦×” ×§×¦×¨×” (127 bytes ×§×“×™××”/××—×•×¨×”)
JE short       74 XX      Jump if Equal
JNE short      75 XX      Jump if Not Equal
JMP near       E9 XX XX   ×§×¤×™×¦×” ××¨×•×›×” (32-bit offset)
CALL           E8 XX XX   ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
RET            C3         Return
            </pre>

            <div class="task-box">
                <div class="task-title">××©×™××” 3.1 - ×”×¤×•×š JE ×œ-JNE</div>
                <ol>
                    <li>××¦× ×¤×§×•×“×ª JE (74 XX)</li>
                    <li>Space ×¢×œ ×”×¤×§×•×“×” (××• ×™×× ×™ â†’ Assemble)</li>
                    <li>×©× ×” ×œ-JNE</li>
                    <li>××•: ×©× ×” ×™×“× ×™×ª 74 â†’ 75</li>
                </ol>
            </div>

            <div class="task-box">
                <div class="task-title">××©×™××” 3.2 - NOP Out</div>
                <p>×”×—×œ×¤×ª ×¤×§×•×“×•×ª ×‘-NOP (×‘×™×˜×•×œ):</p>
                <ol>
                    <li>×¡××Ÿ ××ª ×”×¤×§×•×“×”/×¤×§×•×“×•×ª ×©×¨×•×¦×™× ×œ×‘×˜×œ</li>
                    <li>×™×× ×™ â†’ Binary â†’ Fill with NOPs</li>
                    <li>××•: Ctrl+9</li>
                </ol>
            </div>

            <div class="task-box">
                <div class="task-title">××©×™××” 3.3 - ×©××™×¨×ª Patch</div>
                <p>×œ×©××•×¨ ××ª ×”×©×™× ×•×™×™× ×œ×§×•×‘×¥:</p>
                <ol>
                    <li>×™×× ×™ â†’ Patches (××• Ctrl+P)</li>
                    <li>×¨××” ×¨×©×™××ª ×›×œ ×”×©×™× ×•×™×™×</li>
                    <li>Patch File - ×©×•××¨ ×œ×§×•×‘×¥ ×—×“×©</li>
                </ol>
            </div>

            <h2>ğŸ¯ ×—×œ×§ 4: ×ª×¨×’×™×œ ××¡×›×</h2>

            <div class="task-box">
                <div class="task-title">××ª×’×¨: ×¢×§×•×£ ×‘×“×™×§×ª ×¡×™×¡××”</div>
                <p>×”×§×•×“ ×”×‘× ×‘×•×“×§ ×¡×™×¡××”. ××¦× 3 ×“×¨×›×™× ×œ×¢×§×•×£:</p>
                <pre>
00401000: push ebp
00401001: mov ebp, esp
00401003: mov eax, [ebp+8]        ; password
00401006: push eax
00401007: call strcmp             ; compare with "secret"
0040100C: add esp, 8
0040100F: test eax, eax
00401011: jne 00401020            ; wrong password
00401013: push "Access Granted"
00401018: call printf
0040101D: jmp 0040102A
00401020: push "Wrong Password"   ; wrong password branch
00401025: call printf
0040102A: leave
0040102B: ret
                </pre>

                <p><strong>×“×¨×š 1 - ×©×™× ×•×™ ×¨×’×™×¡×˜×¨:</strong></p>
                <ul class="checklist">
                    <li>×©×™× BP ×¢×œ TEST</li>
                    <li>××—×¨×™ ×”-TEST, ×©× ×” EAX ×œ-0</li>
                </ul>

                <p><strong>×“×¨×š 2 - ×©×™× ×•×™ ×“×’×œ:</strong></p>
                <ul class="checklist">
                    <li>×©×™× BP ××—×¨×™ TEST</li>
                    <li>×©× ×” ××ª ZF ×œ-1 (Zero)</li>
                </ul>

                <p><strong>×“×¨×š 3 - Patch:</strong></p>
                <ul class="checklist">
                    <li>×©× ×” JNE ×œ-JE (75 â†’ 74)</li>
                    <li>××•: ×©× ×” ×œ-NOP NOP (75 0D â†’ 90 90)</li>
                </ul>
            </div>

            <h2>ğŸ›¡ï¸ ×—×œ×§ 5: Anti-Debug Basics</h2>

            <div class="info-box">
                <div class="info-box-title">ğŸ” ×˜×›× ×™×§×•×ª Anti-Debug × ×¤×•×¦×•×ª</div>
                <p>×ª×•×›× ×•×ª ×× ×¡×•×ª ×œ×–×”×•×ª debugger:</p>
                <ul>
                    <li><code>IsDebuggerPresent()</code> - ×‘×“×™×§×” ×™×©×™×¨×”</li>
                    <li>×‘×“×™×§×ª PEB.BeingDebugged flag</li>
                    <li>××“×™×“×ª ×–××Ÿ - breakpoints ×××˜×™×</li>
                    <li>×—×™×¤×•×© breakpoints (0xCC)</li>
                </ul>
            </div>

            <div class="task-box">
                <div class="task-title">××©×™××” 5.1 - ×¢×§×™×¤×ª IsDebuggerPresent</div>
                <ol>
                    <li>×©×™× BP: <code>bp kernel32.IsDebuggerPresent</code></li>
                    <li>×”×¨×¥ - ×›×©×¢×•×¦×¨, ×¢×©×” F9 ××• Ctrl+F9 ×¢×“ ×”-RET</li>
                    <li>×œ×¤× ×™ ×”-RET, ×©× ×” EAX ×œ-0 (×œ× ××“×•×‘×’)</li>
                    <li>××•: Patch ××ª ×”×¤×•× ×§×¦×™×” ×œ×”×—×–×™×¨ ×ª××™×“ 0</li>
                </ol>
            </div>

            <h2>âœ… ×¡×™×›×•× ×”×§×•×¨×¡</h2>

            <div class="success-box">
                <h2 style="color: var(--accent-primary); margin-bottom: 1rem;">ğŸ‰ ×›×œ ×”×›×‘×•×“!</h2>
                <p>×¡×™×™××ª ××ª ×›×œ ×”×—×œ×§ ×”×ª×™××•×¨×˜×™ ×•×”××¢×©×™ ×©×œ ×”×§×•×¨×¡!</p>
                <p style="margin-top: 1rem;">×¢×›×©×™×• ×™×© ×œ×š ××ª ×”×‘×¡×™×¡ ×œ:</p>
                <ul style="text-align: right; display: inline-block; margin-top: 1rem;">
                    <li>×§×¨×™××ª ×•×”×‘× ×ª ×§×•×“ Assembly</li>
                    <li>× ×™×ª×•×— ×§×‘×¦×™ PE</li>
                    <li>×©×™××•×© ×‘-Ghidra ×•-x64dbg</li>
                    <li>×¤×ª×¨×•×Ÿ Crackmes ×¤×©×•×˜×™×</li>
                </ul>
            </div>

            <h2>ğŸ“š ×”××©×š ×œ××™×“×”</h2>

            <div class="info-box">
                <div class="info-box-title">ğŸš€ ×¦×¢×“×™× ×”×‘××™×</div>
                <ul>
                    <li><strong>×ª×¨×’×œ ×¢×•×“ Crackmes</strong> - crackmes.one</li>
                    <li><strong>×œ××“ ×¢×œ Anti-Debug</strong> - ×˜×›× ×™×§×•×ª ××ª×§×“××•×ª</li>
                    <li><strong>Malware Analysis</strong> - × ×™×ª×•×— × ×•×–×§×•×ª (×‘-VM!)</li>
                    <li><strong>CTF Challenges</strong> - ×ª×—×¨×•×™×•×ª RE</li>
                    <li><strong>×§×¨× ×§×•×“</strong> - × ×¡×” ×œ×§×¨×•× ×•×œ×”×‘×™×Ÿ ×ª×•×›× ×•×ª ×××™×ª×™×•×ª</li>
                </ul>
            </div>

            <div class="info-box">
                <div class="info-box-title">ğŸ“– ××©××‘×™× ××•××œ×¦×™×</div>
                <ul>
                    <li><strong>×¡×¤×¨×™×:</strong>
                        <ul>
                            <li>"Practical Malware Analysis" - ×”×¡×¤×¨ ×”×§×œ××¡×™</li>
                            <li>"Reversing: Secrets of Reverse Engineering"</li>
                            <li>"The IDA Pro Book"</li>
                        </ul>
                    </li>
                    <li><strong>××ª×¨×™×:</strong>
                        <ul>
                            <li>malware.news - ×—×“×©×•×ª × ×™×ª×•×— × ×•×–×§×•×ª</li>
                            <li>0xcc.re - ×‘×œ×•×’ RE</li>
                            <li>youtube: OALabs, MalwareAnalysisForHedgehogs</li>
                        </ul>
                    </li>
                </ul>
            </div>

            <div class="nav-buttons">
                <a href="lab4.html" class="nav-btn">â†’ Lab 4: × ×™×ª×•×— PE</a>
                <a href="index.html" class="nav-btn">×—×–×¨×” ×œ×ª×¤×¨×™×˜ ×”×¨××©×™ â†</a>
            </div>
        </div>
    </div>
</body>
</html>

